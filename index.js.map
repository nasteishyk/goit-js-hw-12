{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '52318112-aedb8ccc797c66be623deef69';\n\nexport function getImagesByQuery(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return axios\n  .get(BASE_URL, { params })\n  .then(res => {\n    return res.data.hits\n  })\n  .catch(err => {\n    throw err;\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captions: true,\n  captionsData: \"alt\",\n  captionDelay: 250\n})\n\nexport function createGallery(images) {\n  gallery.innerHTML = images.map(({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n          <li class=\"gallery-item\">\n            <a href=\"${largeImageURL}\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n              <p><b>Likes:</b> ${likes}</p>\n              <p><b>Views:</b> ${views}</p>\n              <p><b>Comments:</b> ${comments}</p>\n              <p><b>Downloads:</b> ${downloads}</p>\n            </div>\n          </li>\n        `\n    )\n    .join(\"\")\n\n    lightbox.refresh()\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\"\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\")\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\")\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery, clearGallery, showLoader, hideLoader } from '/js/render-functions';\n\nexport const form = document.querySelector('.form');\n\nform.addEventListener('submit', searchImg);\nfunction searchImg(event) {\n  event.preventDefault();\n\n  const searchElem = form.elements['search-text'].value.trim();\n\n  if(searchElem === \"\") {\n    iziToast.show({\n      message:\n        'Fill in the search bar!',\n      color: 'red',\n      position: 'topRight',\n    })\n    return\n  }\n\n  clearGallery();\n\n  showLoader()\n\n  getImagesByQuery(searchElem)\n    .then(res => {\n      if (res.length === 0) {\n        iziToast.show({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      createGallery(res);\n    })\n    .catch(() => {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        color: 'red',\n        position: 'topRight',\n      })\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n\n\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","res","err","gallery","loader","lightbox","SimpleLightbox","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","searchImg","event","searchElem","iziToast"],"mappings":"wyBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAOE,EACN,IAAIL,EAAU,CAAE,OAAAI,EAAQ,EACxB,KAAKE,GACGA,EAAI,KAAK,IACjB,EACA,MAAMC,GAAO,CACZ,MAAMA,CACV,CAAG,CACH,CCnBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpCL,EAAQ,UAAYK,EAAO,IAAI,CAAC,CACxB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,uBAESL,CAAa;AAAA,0BACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,iCAGnBC,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA;AAAA,SAIzC,EACA,KAAK,EAAE,EAERV,EAAS,QAAS,CACtB,CAEO,SAASW,GAAe,CAC3Bb,EAAQ,UAAY,EACxB,CAEO,SAASc,GAAa,CACzBb,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASc,GAAa,CACzBd,EAAO,UAAU,IAAI,QAAQ,CACjC,CC5CO,MAAMe,EAAO,SAAS,cAAc,OAAO,EAElDA,EAAK,iBAAiB,SAAUC,CAAS,EACzC,SAASA,EAAUC,EAAO,CACxBA,EAAM,eAAc,EAEpB,MAAMC,EAAaH,EAAK,SAAS,aAAa,EAAE,MAAM,OAEtD,GAAGG,IAAe,GAAI,CACpBC,EAAS,KAAK,CACZ,QACE,0BACF,MAAO,MACP,SAAU,UAChB,CAAK,EACD,MACD,CAEDP,IAEAC,EAAY,EAEZpB,EAAiByB,CAAU,EACxB,KAAKrB,GAAO,CACX,GAAIA,EAAI,SAAW,EAAG,CACpBsB,EAAS,KAAK,CACZ,QAAS,2EACT,MAAO,MACP,SAAU,UACpB,CAAS,EACD,MACD,CAEDhB,EAAcN,CAAG,CACvB,CAAK,EACA,MAAM,IAAM,CACXsB,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,IACAC,EAAK,MAAK,CAChB,CAAK,CACL"}